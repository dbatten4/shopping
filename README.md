# Shop

This is a web app built in JavaScript, HTML and CSS using the jQuery library.
The app displays a page with shopping items and a shopping cart. Items may be
added to and removed from the basket with the total price updating accordingly
on each addition / removal. Discount vouchers may also be applied to the cart 
based on certain conditions.

## Installation and Usage

First ensure you have Node installed by running `node -v` from the command line.

Run from your command line the following commands to clone the repo to your
local machine, install the dependencies and finally serve the app in a browser.
```
git clone https://github.com/dbatten4/shopping.git
cd shopping
npm install
npm start
```
Then visit `http://localhost:3000/`

## Testing

The app is tested using Karma as a test runner for the Jasmine testing
framework. To run the tests, run from your command line
```
npm test
```

## Layout

The testing suite is located in the Order.spec.js file in the test directory.
The business logic is located in the Order.js file in the public/js directory.
It contains the logic for adding, removing and applying vouchers as well as
error checking to prevent scenarios where, for example, the user tries to add an
item which is out of stock. The product data which contains the information for
each item is assigned to the variable productData and located in the
products.json.js file in the public/assets directory. It is then inserted as a
script in the HTML (in index.html in the public directory). The application.js
file in the public/js directory contains the jQuery selectors and functions used
to display the product data and handle the add, remove and voucher links.
I also used jQuery to display the error messages when appropriate. The
CSS is located in the style.css file in the public directory. To make the page
responsive I used a custom media query to adjust the layout of the cart based
on the screen size.

## Approach

I started by setting up a simple web server with Node and Express and installing
the appropriate dependencies. I decided to use jQuery over a framework such as
Angular as the file sizes for the project would be relatively small and the
jQuery library file size is a bit smaller than that of Angular.

For simplicity, I input the product data as a string designed to mock a JSON
file. Once completed, I approached the user stories one by one in order of
priority and, following the TDD principle, created an Order constructor function
and attached the shoppingCart and runningTotal properties to it. I then added
the addProduct, removeProduct and applyDiscount methods onto the Order prototype
object so that when a new Order object is created it inherits these methods.
The items are stored in the shopping cart as their product IDs as specified in
the productData variable. I used the helper function findProductByIDFromArray to
retrieve an item object using its product ID when needed. Once the testing suite
was in place I refactored the error checking functions and other functions /
methods which had become less readable.

Once the business logic was in place I sketched out some HTML and used jQuery to
display the product data by iterating through the productData and appending a
product container div holding the product information to the product area in the
HTML. I then added click event handlers for the add, remove and apply a voucher
links. I used jQuery to display any error messages using properties of the
order object generated by the business logic in the event of an error.

I finished by adding some simple styling to make the page more readable. I used
a custom media query to adjust the position of the shopping cart when the screen
width is reduced to 800px or fewer.

## Next Steps

The current CSS is very basic, only really used to make the page more readable.
More styling could be added to make the interface more slick.

End to end testing could be introduced to test the user interface.

The product data could also be made into a real JSON file and retrieved by an
http request using jQuery.
